create database gcs_1 charset utf8;

##1.test create table
use gcs_1;
create table gcs_tb_1(c1 int not null primary key auto_increment,
    c2 varchar(128) not null default 'aa',
    c3 char(24),
    c4 int not null default 1,
    c5 blob,
    c6 timestamp,
    key idx(c2,c3,c4)) engine=innodb row_format=gcs charset=utf8;
show create table gcs_tb_1;

create table gcs_tb_2(c1 int not null primary key auto_increment,
    c2 varchar(128) not null default 'aa',
    c3 char(24),
    c4 int not null default 1,
    c5 blob,
    c6 timestamp,
    key idx(c2,c3,c4)) engine=innodb row_format=compact charset=latin1;

show create table gcs_tb_2;

select @a:=0;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) values(@a:=@a+1 ,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now());
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now());
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),NULL,@a,"IM BLOB",now());
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now());
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now());
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now());


insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),null,@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,null,now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR AAAAAA"),concat(@a,"CHAR bbbbbb"),@a,"IM BLOB",now() from gcs_tb_1;



select @a:=0;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now());
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now());
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now());
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now());
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now());
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) values( @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now());


insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),NULL,@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,NULL,now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;
insert into gcs_tb_2 (c1,c2,c3,c4,c5,c6) select @a:=@a+1,concat(@a,"VARCHAR BBBBBBB"),concat(@a,"CHAR ccccccc"),@a,"IM BLOB",now() from gcs_tb_2;

    
select count(c1),count(c2),count(c3),count(c4),count(c5),count(c6) from gcs_tb_1;
select count(c1),count(c2),count(c3),count(c4),count(c5),count(c6) from gcs_tb_2;

##test add column
alter table gcs_tb_1 add column (c7 int,
c8 varchar(12),
c9 blob,
c10 int,
c11 int,
c12 int,
c13 varchar(256),
c14 blob);

show create table gcs_tb_1;

alter table gcs_tb_2 add column (c7 int,
c8 varchar(12),
c9 blob,
c10 int,
c11 int,
c12 int,
c13 varchar(256),
c14 blob);

show create table gcs_tb_2;

##test insert after alter
insert into gcs_tb_1 (c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14) values( @a:=@a+1,"VARCHAR AAAAAA","CHAR bbbbbb",'',"IM BLOB>>",'',
    @a+1,"add varchar","im another blob",@a+10,@a+11,@a+12,concat(@a,"varchar added"),"BLOBL SECOND");
select * from gcs_tb_1 where c1=@a\G;

##test update after alter
update gcs_tb_1 set c13=c3 where @a<10;
update gcs_tb_1 set c13=c8 where @a<10;

##
select count(*) from gcs_tb_1;
select count(*) from gcs_tb_1 where c14 <=> null;










    
